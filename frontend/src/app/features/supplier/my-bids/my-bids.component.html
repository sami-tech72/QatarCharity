<div class="container-fluid">
  <!-- Page Header -->
  <div class="row mb-5">
    <div class="col-12 d-flex justify-content-between align-items-start">
      <div>
        <h1 class="page-title mb-2">My Bids</h1>
        <p class="text-muted">Track and manage all your submitted bids</p>
      </div>
      <button class="btn btn-dark" (click)="createNewBid()">
        <i class="bi bi-plus"></i> Create New Bid
      </button>
    </div>
  </div>

  <!-- Statistics Cards -->
  <div class="row mb-5 g-4">
    <!-- Total Bids Card -->
    <div class="col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <p class="text-muted small mb-3 fw-semibold">Total Bids</p>
          <h2 class="mb-0 display-5">{{ statistics.totalBids }}</h2>
        </div>
      </div>
    </div>

    <!-- Under Review Card -->
    <div class="col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <p class="text-muted small mb-3 fw-semibold">Under Review</p>
          <h2 class="mb-0 display-5">{{ statistics.underReview }}</h2>
        </div>
      </div>
    </div>

    <!-- Accepted Card -->
    <div class="col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <p class="text-muted small mb-3 fw-semibold">Accepted</p>
          <h2 class="mb-0 display-5">{{ statistics.accepted }}</h2>
        </div>
      </div>
    </div>

    <!-- Win Rate Card -->
    <div class="col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <p class="text-muted small mb-3 fw-semibold">Win Rate</p>
          <h2 class="mb-0 display-5">{{ statistics.winRate | number: '1.0-0' }}%</h2>
        </div>
      </div>
    </div>
  </div>

  <!-- Bids Table Section -->
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h5 class="card-title mb-0 fw-bold">All Bids</h5>
        <div class="search-box" style="width: 300px;">
          <input type="text" class="form-control" placeholder="Search bids..." (input)="filterBids($event)">
        </div>
      </div>

      <!-- Bids Table -->
      <div class="table-responsive">
        <table class="table table-hover">
          <thead class="table-light">
            <tr>
              <th class="fw-semibold">Bid Number</th>
              <th class="fw-semibold">RFx Title</th>
              <th class="fw-semibold">Bid Amount</th>
              <th class="fw-semibold">Status</th>
              <th class="fw-semibold">Submitted</th>
              <th class="fw-semibold text-end">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let bid of filteredBids">
              <td class="fw-semibold text-primary">{{ bid.bidNumber }}</td>
              <td>
                <div>{{ bid.rfxTitle }}</div>
                <small class="text-muted">{{ bid.rfxNumber }}</small>
              </td>
              <td class="fw-semibold">{{ bid.bidAmount | currency }}</td>
              <td>
                <span class="badge" [ngClass]="getStatusClass(bid.status)">
                  {{ bid.status }}
                </span>
              </td>
              <td>{{ bid.submittedDate | date: 'M/d/y' }}</td>
              <td class="text-end">
                <button class="btn btn-sm btn-link text-primary p-0" title="View" (click)="viewBid(bid)">
                  <i class="bi bi-eye"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Empty State -->
      <div *ngIf="filteredBids.length === 0" class="text-center py-5">
        <p class="text-muted">No bids found</p>
      </div>
    </div>
  </div>
</div>
