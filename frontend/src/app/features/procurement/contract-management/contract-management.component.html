<div class="contract-management">
  <!-- Header -->
  <div class="header-section">
    <div class="header-left">
      <h1>Contract Management</h1>
      <p class="header-subtitle">Manage and track all procurement contracts</p>
    </div>
    <button class="btn-create" (click)="createContract()">
      <span class="icon">+</span>
      Create Contract
    </button>
  </div>

  <!-- Stats Cards -->
  <div class="stats-container">
    <div class="stat-card">
      <label class="stat-label">Total Contracts</label>
      <div class="stat-value">{{ totalContracts }}</div>
    </div>
    <div class="stat-card">
      <label class="stat-label">Active</label>
      <div class="stat-value">{{ activeContracts }}</div>
    </div>
    <div class="stat-card">
      <label class="stat-label">Total Value</label>
      <div class="stat-value">{{ totalValue }}</div>
    </div>
    <div class="stat-card">
      <label class="stat-label">Expiring Soon</label>
      <div class="stat-value">{{ expiringContracts }}</div>
    </div>
  </div>

  <!-- Contracts Table Section -->
  <div class="table-section">
    <div class="table-header">
      <h2>All Contracts</h2>
      <div class="search-box">
        <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
        <input 
          type="text" 
          placeholder="Search contracts..." 
          (input)="onSearch($event)"
          [value]="searchQuery"
        >
      </div>
    </div>

    <div class="table-wrapper">
      <table class="contracts-table">
        <thead>
          <tr>
            <th>Contract Number</th>
            <th>Title</th>
            <th>Supplier</th>
            <th>Value</th>
            <th>Status</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let contract of filteredContracts">
            <td class="contract-number">{{ contract.contractNumber }}</td>
            <td class="title">{{ contract.title }}</td>
            <td>{{ contract.supplier }}</td>
            <td class="value">${{ contract.value | number }}</td>
            <td>
              <span class="status-badge" [ngClass]="getStatusClass(contract.status)">
                {{ contract.status }}
              </span>
            </td>
            <td>{{ contract.startDate }}</td>
            <td>{{ contract.endDate }}</td>
            <td class="actions">
              <button class="btn-icon" (click)="viewContract(contract)" title="View">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
              <button class="btn-icon" (click)="editContract(contract)" title="Edit">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
                </svg>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="filteredContracts.length === 0" class="no-results">
        <p>No contracts found</p>
      </div>
    </div>
  </div>
</div>
